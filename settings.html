<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªØ·Ø¨ÙŠÙ‚ Ù†Ø¨Ø¶</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; padding: 20px; background: #f8f9fa; }
        .container { max-width: 500px; margin: 0 auto; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        h2 { margin-bottom: 20px; color: #333; }
        .form-group { margin-bottom: 20px; }
        label { display: block; margin-bottom: 8px; font-weight: bold; color: #555; }
        input[type="text"], select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; box-sizing: border-box; }
        input[type="color"] { width: 100%; height: 40px; border: none; cursor: pointer; }
        button { width: 100%; padding: 12px; background: #00b96b; color: white; border: none; border-radius: 6px; font-size: 16px; cursor: pointer; transition: background 0.3s; }
        button:hover { background: #009e5b; }
        .success-msg { color: green; display: none; margin-top: 10px; text-align: center; }
    </style>
</head>
<body>
    <div class="container">
        <h2>âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù†Ø¨Ø¶ (Nabdh)</h2>
        <form id="settingsForm">
            <div class="form-group">
                <label>Ù„ÙˆÙ† Ø§Ù„ÙÙ‚Ø§Ø¹Ø© (Ø§Ù„Ø®Ù„ÙÙŠØ©):</label>
                <input type="color" id="brandColor" value="#22c55e">
            </div>

            <div class="form-group">
                <label>Ù…ÙƒØ§Ù† Ø§Ù„Ø¸Ù‡ÙˆØ±:</label>
                <select id="position">
                    <option value="top-left">ÙÙˆÙ‚ ÙŠØ³Ø§Ø± Ø§Ù„Ø²Ø± (Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ)</option>
                    <option value="top-right">ÙÙˆÙ‚ ÙŠÙ…ÙŠÙ† Ø§Ù„Ø²Ø±</option>
                    <option value="bottom-center">ØªØ­Øª Ø§Ù„Ø²Ø±</option>
                </select>
            </div>
            
            <button type="submit">Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
            <p class="success-msg" id="msg">ØªÙ… Ø§Ù„Ø­ÙØ¸ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰</p>
        </form>
    </div>

    <script>
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        fetch('/settings')
            .then(res => res.json())
            .then(data => {
                if(data.color) document.getElementById('brandColor').value = data.color;
                if(data.position) document.getElementById('position').value = data.position;
            });

        // Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
        document.getElementById('settingsForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const color = document.getElementById('brandColor').value;
            const position = document.getElementById('position').value;

            await fetch('/settings', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ color, position })
            });

            document.getElementById('msg').style.display = 'block';
            setTimeout(() => document.getElementById('msg').style.display = 'none', 3000);
        });
    </script>
</body>
</html>
